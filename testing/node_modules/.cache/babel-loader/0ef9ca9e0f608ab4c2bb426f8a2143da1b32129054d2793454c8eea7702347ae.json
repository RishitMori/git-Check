{"ast":null,"code":"var AuthEngine = function () {\n  this._internalStorage = {};\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\n};\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\n  var err;\n  try {\n    // Some browsers will throw an error here if localStorage is disabled.\n    global.localStorage;\n\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\n    global.localStorage.setItem('__scLocalStorageTest', 1);\n    global.localStorage.removeItem('__scLocalStorageTest');\n  } catch (e) {\n    err = e;\n  }\n  return !err;\n};\nAuthEngine.prototype.saveToken = function (name, token, options, callback) {\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.setItem(name, token);\n  } else {\n    this._internalStorage[name] = token;\n  }\n  callback && callback(null, token);\n};\nAuthEngine.prototype.removeToken = function (name, callback) {\n  var token;\n  this.loadToken(name, function (err, authToken) {\n    token = authToken;\n  });\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.removeItem(name);\n  } else {\n    delete this._internalStorage[name];\n  }\n  callback && callback(null, token);\n};\nAuthEngine.prototype.loadToken = function (name, callback) {\n  var token;\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    token = global.localStorage.getItem(name);\n  } else {\n    token = this._internalStorage[name] || null;\n  }\n  callback(null, token);\n};\nmodule.exports.AuthEngine = AuthEngine;","map":{"version":3,"names":["AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","prototype","err","global","localStorage","setItem","removeItem","e","saveToken","name","token","options","callback","removeToken","loadToken","authToken","getItem","module","exports"],"sources":["C:/Users/123/OneDrive/Desktop/git practice/git_destop/git-Check/testing/node_modules/socketcluster-client/lib/auth.js"],"sourcesContent":["var AuthEngine = function () {\n  this._internalStorage = {};\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\n};\n\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\n  var err;\n  try {\n    // Some browsers will throw an error here if localStorage is disabled.\n    global.localStorage;\n\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\n    global.localStorage.setItem('__scLocalStorageTest', 1);\n    global.localStorage.removeItem('__scLocalStorageTest');\n  } catch (e) {\n    err = e;\n  }\n  return !err;\n};\n\nAuthEngine.prototype.saveToken = function (name, token, options, callback) {\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.setItem(name, token);\n  } else {\n    this._internalStorage[name] = token;\n  }\n  callback && callback(null, token);\n};\n\nAuthEngine.prototype.removeToken = function (name, callback) {\n  var token;\n\n  this.loadToken(name, function (err, authToken) {\n    token = authToken;\n  });\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.removeItem(name);\n  } else {\n    delete this._internalStorage[name];\n  }\n\n  callback && callback(null, token);\n};\n\nAuthEngine.prototype.loadToken = function (name, callback) {\n  var token;\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    token = global.localStorage.getItem(name);\n  } else {\n    token = this._internalStorage[name] || null;\n  }\n  callback(null, token);\n};\n\nmodule.exports.AuthEngine = AuthEngine;\n"],"mappings":"AAAA,IAAIA,UAAU,GAAG,SAAAA,CAAA,EAAY;EAC3B,IAAI,CAACC,gBAAgB,GAAG,CAAC,CAAC;EAC1B,IAAI,CAACC,qBAAqB,GAAG,IAAI,CAACC,yBAAyB,CAAC,CAAC;AAC/D,CAAC;AAEDH,UAAU,CAACI,SAAS,CAACD,yBAAyB,GAAG,YAAY;EAC3D,IAAIE,GAAG;EACP,IAAI;IACF;IACAC,MAAM,CAACC,YAAY;;IAEnB;IACA;IACAD,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,sBAAsB,EAAE,CAAC,CAAC;IACtDF,MAAM,CAACC,YAAY,CAACE,UAAU,CAAC,sBAAsB,CAAC;EACxD,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVL,GAAG,GAAGK,CAAC;EACT;EACA,OAAO,CAACL,GAAG;AACb,CAAC;AAEDL,UAAU,CAACI,SAAS,CAACO,SAAS,GAAG,UAAUC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAEC,QAAQ,EAAE;EACzE,IAAI,IAAI,CAACb,qBAAqB,IAAII,MAAM,CAACC,YAAY,EAAE;IACrDD,MAAM,CAACC,YAAY,CAACC,OAAO,CAACI,IAAI,EAAEC,KAAK,CAAC;EAC1C,CAAC,MAAM;IACL,IAAI,CAACZ,gBAAgB,CAACW,IAAI,CAAC,GAAGC,KAAK;EACrC;EACAE,QAAQ,IAAIA,QAAQ,CAAC,IAAI,EAAEF,KAAK,CAAC;AACnC,CAAC;AAEDb,UAAU,CAACI,SAAS,CAACY,WAAW,GAAG,UAAUJ,IAAI,EAAEG,QAAQ,EAAE;EAC3D,IAAIF,KAAK;EAET,IAAI,CAACI,SAAS,CAACL,IAAI,EAAE,UAAUP,GAAG,EAAEa,SAAS,EAAE;IAC7CL,KAAK,GAAGK,SAAS;EACnB,CAAC,CAAC;EAEF,IAAI,IAAI,CAAChB,qBAAqB,IAAII,MAAM,CAACC,YAAY,EAAE;IACrDD,MAAM,CAACC,YAAY,CAACE,UAAU,CAACG,IAAI,CAAC;EACtC,CAAC,MAAM;IACL,OAAO,IAAI,CAACX,gBAAgB,CAACW,IAAI,CAAC;EACpC;EAEAG,QAAQ,IAAIA,QAAQ,CAAC,IAAI,EAAEF,KAAK,CAAC;AACnC,CAAC;AAEDb,UAAU,CAACI,SAAS,CAACa,SAAS,GAAG,UAAUL,IAAI,EAAEG,QAAQ,EAAE;EACzD,IAAIF,KAAK;EAET,IAAI,IAAI,CAACX,qBAAqB,IAAII,MAAM,CAACC,YAAY,EAAE;IACrDM,KAAK,GAAGP,MAAM,CAACC,YAAY,CAACY,OAAO,CAACP,IAAI,CAAC;EAC3C,CAAC,MAAM;IACLC,KAAK,GAAG,IAAI,CAACZ,gBAAgB,CAACW,IAAI,CAAC,IAAI,IAAI;EAC7C;EACAG,QAAQ,CAAC,IAAI,EAAEF,KAAK,CAAC;AACvB,CAAC;AAEDO,MAAM,CAACC,OAAO,CAACrB,UAAU,GAAGA,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}